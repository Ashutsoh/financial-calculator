<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Finance Calculator Suite - EMI, GST & More</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 20px;
      color: #333;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    header {
      text-align: center;
      color: white;
      margin-bottom: 40px;
    }

    header h1 {
      font-size: 2.5rem;
      margin-bottom: 10px;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
    }

    header p {
      font-size: 1.1rem;
      opacity: 0.9;
    }

    .calculator-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }

    .calc-card {
      background: white;
      border-radius: 12px;
      padding: 25px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
      cursor: pointer;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .calc-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 40px rgba(0,0,0,0.3);
    }

    .calc-card h2 {
      color: #667eea;
      font-size: 1.5rem;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .calc-card p {
      color: #666;
      font-size: 0.95rem;
      line-height: 1.5;
    }

    .icon {
      width: 40px;
      height: 40px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 1.3rem;
    }

    .calculator-section {
      display: none;
      background: white;
      border-radius: 12px;
      padding: 30px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
      margin-bottom: 30px;
    }

    .calculator-section.active {
      display: block;
      animation: slideIn 0.3s ease;
    }

    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .back-btn {
      background: #667eea;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 1rem;
      margin-bottom: 20px;
      transition: background 0.3s ease;
    }

    .back-btn:hover {
      background: #5568d3;
    }

    .form-group {
      margin-bottom: 20px;
    }

    label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: #333;
    }

    input[type="number"],
    input[type="text"],
    select {
      width: 100%;
      padding: 12px;
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      font-size: 1rem;
      transition: border-color 0.3s ease;
    }

    input[type="number"]:focus,
    input[type="text"]:focus,
    select:focus {
      outline: none;
      border-color: #667eea;
    }

    .input-group {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
    }

    .calculate-btn {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      padding: 15px 30px;
      border-radius: 8px;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      width: 100%;
      margin-top: 10px;
      transition: transform 0.2s ease;
    }

    .calculate-btn:hover {
      transform: scale(1.02);
    }

    .result-box {
      margin-top: 30px;
      padding: 25px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 12px;
      color: white;
      display: none;
    }

    .result-box.show {
      display: block;
      animation: fadeIn 0.5s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .result-item {
      display: flex;
      justify-content: space-between;
      padding: 12px 0;
      border-bottom: 1px solid rgba(255,255,255,0.2);
    }

    .result-item:last-child {
      border-bottom: none;
    }

    .result-label {
      font-weight: 500;
      opacity: 0.9;
    }

    .result-value {
      font-weight: 700;
      font-size: 1.2rem;
    }

    .breakdown-table {
      margin-top: 20px;
      width: 100%;
      background: white;
      border-radius: 8px;
      overflow: hidden;
      display: none;
    }

    .breakdown-table.show {
      display: block;
    }

    .breakdown-table table {
      width: 100%;
      border-collapse: collapse;
    }

    .breakdown-table th,
    .breakdown-table td {
      padding: 12px;
      text-align: left;
      border-bottom: 1px solid #f0f0f0;
      color: #333;
    }

    .breakdown-table th {
      background: #f8f9fa;
      font-weight: 600;
      color: #667eea;
    }

    .breakdown-table tr:hover {
      background: #f8f9fa;
    }

    footer {
      text-align: center;
      color: white;
      padding: 20px;
      margin-top: 40px;
    }

    footer a {
      color: white;
      text-decoration: none;
      margin: 0 10px;
      opacity: 0.8;
      transition: opacity 0.3s ease;
    }

    footer a:hover {
      opacity: 1;
      text-decoration: underline;
    }

    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.6);
      animation: fadeIn 0.3s ease;
    }

    .modal.show {
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .modal-content {
      background-color: white;
      padding: 40px;
      border-radius: 12px;
      max-width: 800px;
      max-height: 80vh;
      overflow-y: auto;
      margin: 20px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      animation: slideUp 0.3s ease;
    }

    @keyframes slideUp {
      from {
        transform: translateY(50px);
        opacity: 0;
      }
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    .modal-content h2 {
      color: #667eea;
      margin-bottom: 20px;
      font-size: 2rem;
    }

    .modal-content h3 {
      color: #667eea;
      margin-top: 25px;
      margin-bottom: 12px;
      font-size: 1.3rem;
    }

    .modal-content p,
    .modal-content ul {
      color: #333;
      line-height: 1.8;
      margin-bottom: 15px;
    }

    .modal-content ul {
      padding-left: 20px;
    }

    .modal-content li {
      margin-bottom: 10px;
    }

    .close-modal {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      padding: 12px 30px;
      border-radius: 8px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      margin-top: 20px;
      transition: transform 0.2s ease;
    }

    .close-modal:hover {
      transform: scale(1.05);
    }

    @media (max-width: 768px) {
      header h1 {
        font-size: 2rem;
      }

      .calculator-grid {
        grid-template-columns: 1fr;
      }

      .input-group {
        grid-template-columns: 1fr;
      }

      .modal-content {
        padding: 25px;
        margin: 10px;
        max-height: 90vh;
      }

      .modal-content h2 {
        font-size: 1.5rem;
      }
    }
  </style>
</head>
<body>

<div class="container">
  <header>
    <h1>üí∞ Finance Calculator Suite</h1>
    <p>Professional tools for all your financial calculations</p>
  </header>

  <!-- Calculator Selection Grid -->
  <div id="calculator-grid" class="calculator-grid">
    <div class="calc-card" onclick="showCalculator('emi')">
      <h2><span class="icon">üìä</span> EMI Calculator</h2>
      <p>Calculate Equated Monthly Installments for any loan with detailed amortization schedule.</p>
    </div>

    <div class="calc-card" onclick="showCalculator('home-loan')">
      <h2><span class="icon">üè†</span> Home Loan EMI</h2>
      <p>Specialized calculator for home loans with tax benefits and down payment options.</p>
    </div>

    <div class="calc-card" onclick="showCalculator('personal-loan')">
      <h2><span class="icon">üë§</span> Personal Loan EMI</h2>
      <p>Quick personal loan calculator with processing fees and comparison tools.</p>
    </div>

    <div class="calc-card" onclick="showCalculator('gst')">
      <h2><span class="icon">üßæ</span> GST Calculator</h2>
      <p>Calculate GST inclusive, exclusive amounts and tax breakdown instantly.</p>
    </div>
  </div>

  <!-- EMI Calculator -->
  <div id="emi-calculator" class="calculator-section">
    <button class="back-btn" onclick="showGrid()">‚Üê Back to All Calculators</button>
    <h2 style="color: #667eea; margin-bottom: 20px;">EMI Calculator</h2>
    
    <div class="input-group">
      <div class="form-group">
        <label>Loan Amount (‚Çπ)</label>
        <input type="number" id="emi-amount" placeholder="500000" value="500000">
      </div>
      <div class="form-group">
        <label>Interest Rate (% per annum)</label>
        <input type="number" id="emi-rate" placeholder="10.5" step="0.1" value="10.5">
      </div>
      <div class="form-group">
        <label>Loan Tenure (months)</label>
        <input type="number" id="emi-tenure" placeholder="60" value="60">
      </div>
    </div>

    <button class="calculate-btn" onclick="calculateEMI()">Calculate EMI</button>

    <div id="emi-result" class="result-box">
      <div class="result-item">
        <span class="result-label">Monthly EMI:</span>
        <span class="result-value" id="emi-monthly">‚Çπ0</span>
      </div>
      <div class="result-item">
        <span class="result-label">Total Interest:</span>
        <span class="result-value" id="emi-interest">‚Çπ0</span>
      </div>
      <div class="result-item">
        <span class="result-label">Total Amount:</span>
        <span class="result-value" id="emi-total">‚Çπ0</span>
      </div>
    </div>

    <div id="emi-breakdown" class="breakdown-table">
      <h3 style="color: #667eea; margin: 20px 0 10px;">Amortization Schedule (First 12 Months)</h3>
      <table id="emi-table">
        <thead>
          <tr>
            <th>Month</th>
            <th>Principal</th>
            <th>Interest</th>
            <th>Balance</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
  </div>

  <!-- Home Loan Calculator -->
  <div id="home-loan-calculator" class="calculator-section">
    <button class="back-btn" onclick="showGrid()">‚Üê Back to All Calculators</button>
    <h2 style="color: #667eea; margin-bottom: 20px;">Home Loan EMI Calculator</h2>
    
    <div class="input-group">
      <div class="form-group">
        <label>Property Value (‚Çπ)</label>
        <input type="number" id="home-property-value" placeholder="5000000" value="5000000">
      </div>
      <div class="form-group">
        <label>Down Payment (%)</label>
        <input type="number" id="home-down-payment" placeholder="20" value="20">
      </div>
      <div class="form-group">
        <label>Interest Rate (% per annum)</label>
        <input type="number" id="home-rate" placeholder="8.5" step="0.1" value="8.5">
      </div>
      <div class="form-group">
        <label>Loan Tenure (years)</label>
        <input type="number" id="home-tenure" placeholder="20" value="20">
      </div>
    </div>

    <button class="calculate-btn" onclick="calculateHomeLoan()">Calculate Home Loan EMI</button>

    <div id="home-result" class="result-box">
      <div class="result-item">
        <span class="result-label">Loan Amount:</span>
        <span class="result-value" id="home-loan-amount">‚Çπ0</span>
      </div>
      <div class="result-item">
        <span class="result-label">Down Payment:</span>
        <span class="result-value" id="home-down-amount">‚Çπ0</span>
      </div>
      <div class="result-item">
        <span class="result-label">Monthly EMI:</span>
        <span class="result-value" id="home-monthly">‚Çπ0</span>
      </div>
      <div class="result-item">
        <span class="result-label">Total Interest:</span>
        <span class="result-value" id="home-interest">‚Çπ0</span>
      </div>
      <div class="result-item">
        <span class="result-label">Total Payment:</span>
        <span class="result-value" id="home-total">‚Çπ0</span>
      </div>
    </div>
  </div>

  <!-- Personal Loan Calculator -->
  <div id="personal-loan-calculator" class="calculator-section">
    <button class="back-btn" onclick="showGrid()">‚Üê Back to All Calculators</button>
    <h2 style="color: #667eea; margin-bottom: 20px;">Personal Loan EMI Calculator</h2>
    
    <div class="input-group">
      <div class="form-group">
        <label>Loan Amount (‚Çπ)</label>
        <input type="number" id="personal-amount" placeholder="300000" value="300000">
      </div>
      <div class="form-group">
        <label>Interest Rate (% per annum)</label>
        <input type="number" id="personal-rate" placeholder="12.5" step="0.1" value="12.5">
      </div>
      <div class="form-group">
        <label>Loan Tenure (months)</label>
        <input type="number" id="personal-tenure" placeholder="36" value="36">
      </div>
      <div class="form-group">
        <label>Processing Fee (%)</label>
        <input type="number" id="personal-fee" placeholder="2" step="0.1" value="2">
      </div>
    </div>

    <button class="calculate-btn" onclick="calculatePersonalLoan()">Calculate Personal Loan EMI</button>

    <div id="personal-result" class="result-box">
      <div class="result-item">
        <span class="result-label">Processing Fee:</span>
        <span class="result-value" id="personal-fee-amount">‚Çπ0</span>
      </div>
      <div class="result-item">
        <span class="result-label">Monthly EMI:</span>
        <span class="result-value" id="personal-monthly">‚Çπ0</span>
      </div>
      <div class="result-item">
        <span class="result-label">Total Interest:</span>
        <span class="result-value" id="personal-interest">‚Çπ0</span>
      </div>
      <div class="result-item">
        <span class="result-label">Total Amount (with fee):</span>
        <span class="result-value" id="personal-total">‚Çπ0</span>
      </div>
    </div>
  </div>

  <!-- GST Calculator -->
  <div id="gst-calculator" class="calculator-section">
    <button class="back-btn" onclick="showGrid()">‚Üê Back to All Calculators</button>
    <h2 style="color: #667eea; margin-bottom: 20px;">GST Calculator</h2>
    
    <div class="form-group">
      <label>Calculation Type</label>
      <select id="gst-type" onchange="updateGSTLabels()">
        <option value="exclusive">Add GST (Exclusive)</option>
        <option value="inclusive">Remove GST (Inclusive)</option>
      </select>
    </div>

    <div class="input-group">
      <div class="form-group">
        <label id="gst-amount-label">Amount (‚Çπ)</label>
        <input type="number" id="gst-amount" placeholder="10000" value="10000">
      </div>
      <div class="form-group">
        <label>GST Rate (%)</label>
        <select id="gst-rate">
          <option value="0">0%</option>
          <option value="5">5%</option>
          <option value="12">12%</option>
          <option value="18" selected>18%</option>
          <option value="28">28%</option>
        </select>
      </div>
    </div>

    <button class="calculate-btn" onclick="calculateGST()">Calculate GST</button>

    <div id="gst-result" class="result-box">
      <div class="result-item">
        <span class="result-label">CGST (9%):</span>
        <span class="result-value" id="gst-cgst">‚Çπ0</span>
      </div>
      <div class="result-item">
        <span class="result-label">SGST (9%):</span>
        <span class="result-value" id="gst-sgst">‚Çπ0</span>
      </div>
      <div class="result-item">
        <span class="result-label">Total GST:</span>
        <span class="result-value" id="gst-total-tax">‚Çπ0</span>
      </div>
      <div class="result-item">
        <span class="result-label" id="gst-net-label">Net Amount:</span>
        <span class="result-value" id="gst-net">‚Çπ0</span>
      </div>
      <div class="result-item" style="border-top: 2px solid rgba(255,255,255,0.5); margin-top: 10px; padding-top: 15px;">
        <span class="result-label" id="gst-final-label">Final Amount:</span>
        <span class="result-value" id="gst-final" style="font-size: 1.5rem;">‚Çπ0</span>
      </div>
    </div>
  </div>

</div>

<footer>
  <p>&copy; 2026 Finance Calculator Suite. All rights reserved.</p>
  <div>
    <a href="#" onclick="openModal('privacy'); return false;">Privacy Policy</a> |
    <a href="#" onclick="openModal('terms'); return false;">Terms of Service</a> |
    <a href="#" onclick="openModal('disclaimer'); return false;">Disclaimer</a>
  </div>
</footer>

<!-- Privacy Policy Modal -->
<div id="privacy-modal" class="modal">
  <div class="modal-content">
    <h2>Privacy Policy</h2>
    <p><strong>Last Updated: February 10, 2026</strong></p>
    
    <h3>1. Information We Collect</h3>
    <p>Our Finance Calculator Suite is designed with your privacy in mind. All calculations are performed locally in your browser, and we do not collect, store, or transmit any of your financial data to external servers.</p>
    
    <h3>2. How We Use Information</h3>
    <ul>
      <li><strong>Calculations:</strong> All loan amounts, interest rates, and personal financial information entered into our calculators remain on your device only.</li>
      <li><strong>No Tracking:</strong> We do not use cookies, analytics, or tracking technologies to monitor your usage.</li>
      <li><strong>No Account Required:</strong> You can use all features without creating an account or providing personal information.</li>
    </ul>
    
    <h3>3. Data Security</h3>
    <p>Since all calculations happen in your browser and no data is transmitted to our servers, your financial information remains completely private and secure on your device.</p>
    
    <h3>4. Third-Party Services</h3>
    <p>This calculator does not integrate with any third-party services, APIs, or external databases. Your data stays with you.</p>
    
    <h3>5. Children's Privacy</h3>
    <p>Our service does not knowingly collect information from children under 13. The calculator is designed for general use and does not require any personal information.</p>
    
    <h3>6. Changes to Privacy Policy</h3>
    <p>We may update this privacy policy from time to time. Any changes will be reflected with an updated "Last Updated" date.</p>
    
    <h3>7. Contact Us</h3>
    <p>If you have any questions about this Privacy Policy, please contact us through our website.</p>
    
    <button class="close-modal" onclick="closeModal('privacy')">Close</button>
  </div>
</div>

<!-- Terms of Service Modal -->
<div id="terms-modal" class="modal">
  <div class="modal-content">
    <h2>Terms of Service</h2>
    <p><strong>Last Updated: February 10, 2026</strong></p>
    
    <h3>1. Acceptance of Terms</h3>
    <p>By accessing and using the Finance Calculator Suite, you accept and agree to be bound by the terms and provisions of this agreement.</p>
    
    <h3>2. Use License</h3>
    <ul>
      <li>Permission is granted to use this calculator for personal, non-commercial purposes.</li>
      <li>You may not modify, distribute, or create derivative works based on this calculator without permission.</li>
      <li>This is the grant of a license, not a transfer of title.</li>
    </ul>
    
    <h3>3. Disclaimer of Warranties</h3>
    <p>The calculator is provided "as is" without warranty of any kind, either express or implied, including but not limited to the implied warranties of merchantability, fitness for a particular purpose, or non-infringement.</p>
    
    <h3>4. Accuracy of Calculations</h3>
    <ul>
      <li>While we strive for accuracy, we do not guarantee that all calculations are error-free.</li>
      <li>Results should be used as estimates only and verified with financial professionals.</li>
      <li>Users are responsible for verifying all calculations independently.</li>
    </ul>
    
    <h3>5. Limitation of Liability</h3>
    <p>In no event shall Finance Calculator Suite or its creators be liable for any damages (including, without limitation, damages for loss of data or profit, or due to business interruption) arising out of the use or inability to use the calculator.</p>
    
    <h3>6. User Responsibilities</h3>
    <ul>
      <li>You are responsible for ensuring that any financial decisions are made in consultation with qualified professionals.</li>
      <li>Do not rely solely on calculator results for major financial decisions.</li>
      <li>Verify all calculations with your lender or financial advisor.</li>
    </ul>
    
    <h3>7. Modifications to Service</h3>
    <p>We reserve the right to modify or discontinue the service at any time without notice.</p>
    
    <h3>8. Governing Law</h3>
    <p>These terms shall be governed by and construed in accordance with applicable laws, without regard to its conflict of law provisions.</p>
    
    <button class="close-modal" onclick="closeModal('terms')">Close</button>
  </div>
</div>

<!-- Disclaimer Modal -->
<div id="disclaimer-modal" class="modal">
  <div class="modal-content">
    <h2>Disclaimer</h2>
    <p><strong>Last Updated: February 10, 2026</strong></p>
    
    <h3>General Information Only</h3>
    <p>The Finance Calculator Suite provides general financial calculations for informational and educational purposes only. The information provided should not be considered as financial, legal, or professional advice.</p>
    
    <h3>Not Financial Advice</h3>
    <ul>
      <li>Results from this calculator are <strong>estimates only</strong> and may not reflect actual loan terms, interest rates, or fees from lenders.</li>
      <li>This tool does not constitute financial advice or recommendations.</li>
      <li>We are not financial advisors, and this calculator should not replace professional financial guidance.</li>
    </ul>
    
    <h3>Accuracy and Completeness</h3>
    <ul>
      <li>While we make every effort to ensure accuracy, we cannot guarantee that all calculations are completely accurate or up-to-date.</li>
      <li>Interest rates, GST rates, and lending terms change frequently and may differ from those used in calculations.</li>
      <li>Actual loan terms may include additional fees, charges, or conditions not reflected in these calculations.</li>
    </ul>
    
    <h3>No Guarantee of Results</h3>
    <p>We make no guarantees regarding:</p>
    <ul>
      <li>Loan approval or eligibility based on calculator results</li>
      <li>Accuracy of interest rates or terms shown</li>
      <li>Tax benefits or deductions (consult a tax professional)</li>
      <li>Actual EMI amounts from lenders</li>
    </ul>
    
    <h3>Consult Professionals</h3>
    <p>Always consult with qualified professionals before making financial decisions:</p>
    <ul>
      <li><strong>Financial Advisors:</strong> For investment and loan advice</li>
      <li><strong>Tax Consultants:</strong> For tax-related queries and benefits</li>
      <li><strong>Legal Advisors:</strong> For contract and legal matters</li>
      <li><strong>Bank Representatives:</strong> For actual loan terms and conditions</li>
    </ul>
    
    <h3>Regional Variations</h3>
    <p>Financial regulations, tax laws, and lending practices vary by country and region. This calculator may not account for all regional differences. Please verify all information with local authorities and institutions.</p>
    
    <h3>No Liability</h3>
    <p>By using this calculator, you acknowledge that:</p>
    <ul>
      <li>You are using this tool at your own risk</li>
      <li>We are not responsible for any financial decisions made based on calculator results</li>
      <li>We are not liable for any losses or damages arising from the use of this calculator</li>
    </ul>
    
    <h3>Educational Purpose</h3>
    <p>This calculator is designed to help you understand how various financial calculations work and to estimate potential costs. It is an educational tool and starting point for your financial planning, not a substitute for professional advice.</p>
    
    <button class="close-modal" onclick="closeModal('disclaimer')">Close</button>
  </div>
</div>

<script>
  function showCalculator(type) {
    document.getElementById('calculator-grid').style.display = 'none';
    document.querySelectorAll('.calculator-section').forEach(section => {
      section.classList.remove('active');
    });
    
    const calcMap = {
      'emi': 'emi-calculator',
      'home-loan': 'home-loan-calculator',
      'personal-loan': 'personal-loan-calculator',
      'gst': 'gst-calculator'
    };
    
    document.getElementById(calcMap[type]).classList.add('active');
  }

  function showGrid() {
    document.querySelectorAll('.calculator-section').forEach(section => {
      section.classList.remove('active');
    });
    document.getElementById('calculator-grid').style.display = 'grid';
  }

  function openModal(type) {
    const modalMap = {
      'privacy': 'privacy-modal',
      'terms': 'terms-modal',
      'disclaimer': 'disclaimer-modal'
    };
    document.getElementById(modalMap[type]).classList.add('show');
    document.body.style.overflow = 'hidden';
  }

  function closeModal(type) {
    const modalMap = {
      'privacy': 'privacy-modal',
      'terms': 'terms-modal',
      'disclaimer': 'disclaimer-modal'
    };
    document.getElementById(modalMap[type]).classList.remove('show');
    document.body.style.overflow = 'auto';
  }

  // Close modal when clicking outside
  window.onclick = function(event) {
    if (event.target.classList.contains('modal')) {
      event.target.classList.remove('show');
      document.body.style.overflow = 'auto';
    }
  }

  function formatCurrency(amount) {
    return '‚Çπ' + amount.toLocaleString('en-IN', { maximumFractionDigits: 0 });
  }

  function calculateEMI() {
    const principal = parseFloat(document.getElementById('emi-amount').value);
    const rate = parseFloat(document.getElementById('emi-rate').value) / 12 / 100;
    const tenure = parseInt(document.getElementById('emi-tenure').value);

    if (!principal || !rate || !tenure) {
      alert('Please fill all fields with valid values');
      return;
    }

    const emi = principal * rate * Math.pow(1 + rate, tenure) / (Math.pow(1 + rate, tenure) - 1);
    const totalAmount = emi * tenure;
    const totalInterest = totalAmount - principal;

    document.getElementById('emi-monthly').textContent = formatCurrency(emi);
    document.getElementById('emi-interest').textContent = formatCurrency(totalInterest);
    document.getElementById('emi-total').textContent = formatCurrency(totalAmount);
    document.getElementById('emi-result').classList.add('show');

    // Generate amortization schedule
    generateAmortization(principal, rate, tenure, emi);
  }

  function generateAmortization(principal, rate, tenure, emi) {
    const tbody = document.getElementById('emi-table').querySelector('tbody');
    tbody.innerHTML = '';
    
    let balance = principal;
    const maxRows = Math.min(12, tenure);

    for (let i = 1; i <= maxRows; i++) {
      const interestPayment = balance * rate;
      const principalPayment = emi - interestPayment;
      balance -= principalPayment;

      const row = tbody.insertRow();
      row.innerHTML = `
        <td>${i}</td>
        <td>${formatCurrency(principalPayment)}</td>
        <td>${formatCurrency(interestPayment)}</td>
        <td>${formatCurrency(balance)}</td>
      `;
    }

    document.getElementById('emi-breakdown').classList.add('show');
  }

  function calculateHomeLoan() {
    const propertyValue = parseFloat(document.getElementById('home-property-value').value);
    const downPaymentPercent = parseFloat(document.getElementById('home-down-payment').value);
    const rate = parseFloat(document.getElementById('home-rate').value) / 12 / 100;
    const tenureYears = parseInt(document.getElementById('home-tenure').value);
    const tenure = tenureYears * 12;

    if (!propertyValue || !downPaymentPercent || !rate || !tenureYears) {
      alert('Please fill all fields with valid values');
      return;
    }

    const downPayment = propertyValue * downPaymentPercent / 100;
    const loanAmount = propertyValue - downPayment;
    const emi = loanAmount * rate * Math.pow(1 + rate, tenure) / (Math.pow(1 + rate, tenure) - 1);
    const totalAmount = emi * tenure;
    const totalInterest = totalAmount - loanAmount;

    document.getElementById('home-loan-amount').textContent = formatCurrency(loanAmount);
    document.getElementById('home-down-amount').textContent = formatCurrency(downPayment);
    document.getElementById('home-monthly').textContent = formatCurrency(emi);
    document.getElementById('home-interest').textContent = formatCurrency(totalInterest);
    document.getElementById('home-total').textContent = formatCurrency(totalAmount);
    document.getElementById('home-result').classList.add('show');
  }

  function calculatePersonalLoan() {
    const principal = parseFloat(document.getElementById('personal-amount').value);
    const rate = parseFloat(document.getElementById('personal-rate').value) / 12 / 100;
    const tenure = parseInt(document.getElementById('personal-tenure').value);
    const feePercent = parseFloat(document.getElementById('personal-fee').value);

    if (!principal || !rate || !tenure) {
      alert('Please fill all fields with valid values');
      return;
    }

    const processingFee = principal * feePercent / 100;
    const emi = principal * rate * Math.pow(1 + rate, tenure) / (Math.pow(1 + rate, tenure) - 1);
    const totalAmount = emi * tenure;
    const totalInterest = totalAmount - principal;
    const totalWithFee = totalAmount + processingFee;

    document.getElementById('personal-fee-amount').textContent = formatCurrency(processingFee);
    document.getElementById('personal-monthly').textContent = formatCurrency(emi);
    document.getElementById('personal-interest').textContent = formatCurrency(totalInterest);
    document.getElementById('personal-total').textContent = formatCurrency(totalWithFee);
    document.getElementById('personal-result').classList.add('show');
  }

  function updateGSTLabels() {
    const type = document.getElementById('gst-type').value;
    if (type === 'exclusive') {
      document.getElementById('gst-amount-label').textContent = 'Amount (Excluding GST) (‚Çπ)';
      document.getElementById('gst-net-label').textContent = 'Net Amount:';
      document.getElementById('gst-final-label').textContent = 'Final Amount (Inc. GST):';
    } else {
      document.getElementById('gst-amount-label').textContent = 'Amount (Including GST) (‚Çπ)';
      document.getElementById('gst-net-label').textContent = 'Net Amount (Exc. GST):';
      document.getElementById('gst-final-label').textContent = 'Final Amount:';
    }
  }

  function calculateGST() {
    const amount = parseFloat(document.getElementById('gst-amount').value);
    const gstRate = parseFloat(document.getElementById('gst-rate').value);
    const type = document.getElementById('gst-type').value;

    if (!amount || gstRate === null) {
      alert('Please fill all fields with valid values');
      return;
    }

    let netAmount, gstAmount, finalAmount;

    if (type === 'exclusive') {
      netAmount = amount;
      gstAmount = amount * gstRate / 100;
      finalAmount = amount + gstAmount;
    } else {
      finalAmount = amount;
      netAmount = amount * 100 / (100 + gstRate);
      gstAmount = amount - netAmount;
    }

    const cgst = gstAmount / 2;
    const sgst = gstAmount / 2;

    document.getElementById('gst-cgst').textContent = formatCurrency(cgst);
    document.getElementById('gst-sgst').textContent = formatCurrency(sgst);
    document.getElementById('gst-total-tax').textContent = formatCurrency(gstAmount);
    document.getElementById('gst-net').textContent = formatCurrency(netAmount);
    document.getElementById('gst-final').textContent = formatCurrency(finalAmount);
    document.getElementById('gst-result').classList.add('show');
  }
</script>

</body>
</html>
